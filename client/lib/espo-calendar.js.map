{"version":3,"file":"espo-calendar.js","sources":["original/espo-calendar.js"],"names":["define","_exports","_view","_moment","FullCalendar","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","cache","has","get","key","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","prototype","hasOwnProperty","call","set","_interopRequireWildcard","CalendarView","template","eventAttributes","colors","allDayScopeList","scopeList","header","modeList","fullCalendarModeList","defaultMode","slotDuration","scrollToNowSlots","scrollHour","titleFormat","month","week","day","rangeSeparator","fetching","modeViewMap","agendaWeek","agendaDay","basicWeek","basicDay","listWeek","extendedProps","calendar","events","click button[data-action=\"prev\"]","this","actionPrevious","click button[data-action=\"next\"]","actionNext","click button[data-action=\"today\"]","actionToday","click [data-action=\"mode\"]","e","mode","$","currentTarget","data","selectMode","click [data-action=\"refresh\"]","actionRefresh","click [data-action=\"toggleScopeFilter\"]","$target","filterName","$check","find","hasClass","removeClass","addClass","stopPropagation","toggleScopeFilter","isCustomViewAvailable","isCustomView","todayLabel","translate","todayLabelShort","slice","setup","wait","Espo","loader","requirePromise","suppressLoadingAlert","options","date","undefined","setupMode","$container","Utils","clone","getMetadata","getConfig","getPreferences","setupScrollHour","getHelper","themeManager","getParam","getAcl","getPermissionLevel","userId","forEach","scope","check","push","enabledScopeList","getStoredEnabledScopeList","toString","item","color","createView","selector","viewMode","teamIdList","length","indexOf","viewId","calendarViewDataList","id","viewName","name","isAgendaMode","includes","previousMode","trigger","$el","changeView","toAgenda","fromAgenda","refetchEvents","updateDate","hasView","getModeButtonsView","reRender","getView","index","splice","storeEnabledScopeList","getStorage","title","isToday","getTitle","text","view","todayUnix","unix","startUnix","activeStart","endUnix","activeEnd","timeGridWeek","timeGridDay","dayGridWeek","dayGridDay","dayGridMonth","type","let","end","format","start","dateToMoment","currentStart","currentEnd","subtract","userName","escapeString","convertToFcEvent","o","event","recordId","dateStart","dateEnd","dateStartDate","dateEndDate","status","originalColor","display","isWorkingRange","groupId","userIdList","userNameMap","sort","v1","v2","localeCompare","attr","getDateTime","toMoment","duration","toISOString","allDay","handleAllDay","fillColor","handleStatus","tz","getTimeZone","getEventTypeCompletedStatusList","getEventTypeCanceledStatusList","getColorFromScopeName","shadeColor","className","percent","getThemeManager","alpha","substring","f","parseInt","t","p","R","G","B","Math","round","afterDrop","allDayCopy","hours","minutes","add","isSame","toDate","convertToFcEvents","list","now","convertDateTime","internalDateTimeFormat","timeZone","m","utc","getCalculatedHeight","height","calculateContentContainerHeight","adjustSize","isRemoved","setOption","updateSize","afterRender","containerSelector","$calendar","timeFormat","slotLabelFormat","scrollTime","headerToolbar","eventTimeFormat","initialView","defaultRangeSeparator","weekNumbers","weekNumberCalculation","editable","selectable","selectMirror","firstDay","weekStart","slotEventOverlap","slotLabelInterval","snapDuration","longPressDelay","eventColor","nowIndicator","allDayText","weekText","views","dayHeaderFormat","windowResize","select","info","startStr","endStr","createEvent","unselect","eventClick","Ui","notify","removeDisabled","render","listenToOnce","model","removeModel","listenTo","bypassClose","close","updateModel","datesSet","fromIso","getDate","callback","dateTimeFormat","from","to","fromStr","toStr","fetchEvents","eventDrop","delta","attributes","dateString","internalDateFormat","props","obtainPropsFromEvent","getModelFactory","create","save","patch","then","applyPropsToEvent","catch","revert","eventResize","setExtendedProp","eventAllow","eventContent","arg","$content","append","timeText","avatarHtml","getAvatarHtml","$div","css","overflow","html","innerHTML","aspectRatio","contentHeight","initialDate","setTimeout","Calendar","handleScrollToNow","getNowMoment","floor","scrollToTime","values","getToday","assignedUserId","assignedUserName","added","addModel","url","encodeURIComponent","join","agenda","Ajax","getRequest","getClonedAttributes","entityType","addEvent","eventId","getEventById","getTime","setDates","setProp","remove","prev","next","additionalColorList","j","i","today"],"mappings":"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"}